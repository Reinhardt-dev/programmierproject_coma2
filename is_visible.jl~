include("abbild.jl")

function is_visible(p,m,r)
    cpoint = abbild(p)
    if typeof(cpoint) == Nothing
        return false
    end
    
    x = cpoint[1]
    y = cpoint[2]
    cpoint = (x,y,250)
    
    a = cpoint[1]*cpoint[1] + cpoint[2]*cpoint[2] + cpoint[3]*cpoint[3]
    b = -2*(cpoint[1]*m[1] + cpoint[2]*m[2] + cpoint[3]*m[3])
    c = m[1]*m[1] + m[2]*m[2] + m[3]*m[3] - r*r
    
    disc = b*b - 4*a*c
    if disc <= 0
        return true
    else 
        return false
    end
end

println(is_visible((1,2,3), (10,10,10), 10))
println(is_visible((0,0,300), (0, -10, 260), 10))
println(is_visible((0,0,300), (0,0,400), 10))
